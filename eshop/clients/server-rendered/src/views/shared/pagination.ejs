<nav>
  <ul class="pagination">
    <li class="page-item <%= +page == 1 ? 'disabled' : '' %>">
      <a
        class="page-link"
        href="?page=<%= +page  -1%>"
        tabindex="-1"
        <%= +page == 1 ? 'aria-disabled="true"' : '' %>
        >&laquo;</a
      >
    </li>
    <% const pageCount = Math.trunc(collectionSize/pageSize) + 1; %>
    <!-- prettier-ignore -->
    <% let skippedBefore = false %>
    <!-- prettier-ignore -->
    <% for(let i = 1; i < pageCount+1; i++) { %>
    <!-- prettier-ignore -->
    <% if((i !== 1) && (i !== pageCount) && (i < Math.min(+page - 1, pageCount - 3) || i > Math.max(4, +page + 1) )) { %>
        <% if(!skippedBefore) {%>
    <li class="page-item disabled">
      <a class="page-link" href="#">&hellip;</a>
    </li>
    <% } %>
    <!-- prettier-ignore -->
    <% skippedBefore = true; continue; } else skippedBefore = false; %>
    <li class="page-item <%= i == page ? 'active' : '' %>">
      <a class="page-link" href="?page=<%= i%>"><%= i %></a>
    </li>
    <% } %>
    <li class="page-item  <%= +page == pageCount ? 'disabled' : '' %>">
      <a class="page-link" href="?page=<%= +page + 1%>" 
        <%= +page == pageCount ? 'aria-disabled="true"' : '' %>>&raquo;</a>
    </li>
  </ul>
</nav>
